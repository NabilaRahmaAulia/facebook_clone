<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Facebook - Create New Account</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background-color: #f0f2f5;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    .container {
      background-color: white;
      width: 100%;
      max-width: 500px;
      padding: 40px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      border-radius: 8px;
    }
    h1 {
      font-size: 36px;
      font-weight: bold;
      text-align: center;
      color: #1877f2;
      margin-bottom: 20px;
    }
    p {
      text-align: center;
      font-size: 14px;
      color: #65676b;
      margin-bottom: 20px;
    }
    .left {
      text-align: left;
    }
    label {
      font-size: 14px;
      margin-bottom: 6px;
      display: block;
    }
    input, select {
      width: 100%;
      padding: 12px;
      margin-bottom: 10px;
      border-radius: 5px;
      border: 1px solid #ddd;
      box-sizing: border-box;
    }
    .dob-select {
      display: flex;
      gap: 10px;
    }
    .gender {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
    }
    .sign-up-btn {
      background-color: #42b72a;
      color: white;
      padding: 14px;
      font-size: 16px;
      font-weight: bold;
      border: none;
      width: 100%;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .sign-up-btn:hover {
      background-color: #36a420;
    }
    .already-have-account {
      text-align: center;
      margin-top: 15px;
    }
    .blue-text {
      color: #1877f2;
    }
    .error {
      color: red;
      font-size: 13px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>

<div class="container">
  <h1>facebook</h1>
  <p>Create a new account<br>It's quick and easy.</p>
  
  <form id="registrationForm" action="register.php" method="POST">
    <label for="firstname">First name</label>
    <input type="text" id="firstname" name="firstname" required>
    
    <label for="surname">Surname</label>
    <input type="text" id="surname" name="surname" required>
    
    <label for="dob">Date of birth</label>
    <div class="dob-select">
      <select id="dob-day" name="dob-day" required></select>
      <select id="dob-month" name="dob-month" required></select>
      <select id="dob-year" name="dob-year" required></select>
    </div>
    
    <label>Gender</label>
    <div class="gender">
      <div>
        <input type="radio" id="female" name="gender" value="Female">
        <label for="female">Female</label>
      </div>
      <div>
        <input type="radio" id="male" name="gender" value="Male">
        <label for="male">Male</label>
      </div>
      <div>
        <input type="radio" id="custom" name="gender" value="Custom">
        <label for="custom">Custom</label>
      </div>
    </div>
    
    <label for="email">Mobile number or email address</label>
    <input type="email" id="email" name="email" required>
    <div id="emailError" class="error"></div>
    
    <label for="password">New password</label>
    <input type="password" id="password" name="password" required>
    <div id="passwordError" class="error"></div>

    <p class="left">People who use our service may have uploaded your contact information to Facebook. 
      <span class="blue-text">Learn more.</span>
    </p>

    <p class="left">By clicking Sign Up, you agree to our 
      <span class="blue-text">Terms, Privacy Policy</span> and 
      <span class="blue-text">Cookies Policy</span>. You may receive SMS notifications from us and can opt out at any time.
    </p>
    
    <button type="submit" class="sign-up-btn">Sign Up</button>
  </form>
  
<p class="already-have-account">
  <a href="login.html" class="blue-text">Already have an account?</a>
</p>

</div>

<script>
  // dropdown tanggal
  const daySelect = document.getElementById("dob-day");
  const monthSelect = document.getElementById("dob-month");
  const yearSelect = document.getElementById("dob-year");

  for (let i = 1; i <= 31; i++) {
    const option = document.createElement("option");
    option.value = i;
    option.textContent = i;
    daySelect.appendChild(option);
  }

  const months = [
    "January","February","March","April","May","June",
    "July","August","September","October","November","December"
  ];
  months.forEach((m, index) => {
    const option = document.createElement("option");
    option.value = index + 1;
    option.textContent = m;
    monthSelect.appendChild(option);
  });

  const currentYear = new Date().getFullYear();
  for (let y = currentYear; y >= 1905; y--) {
    const option = document.createElement("option");
    option.value = y;
    option.textContent = y;
    yearSelect.appendChild(option);
  }

  // Validasi & Redirect
  document.getElementById("registrationForm").addEventListener("submit", function(event) {
    event.preventDefault(); // mencegah form dikirim ke register.php dulu

    let valid = true;

    const email = document.getElementById("email").value.trim();
    const emailError = document.getElementById("emailError");
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

    if (!emailRegex.test(email)) {
      emailError.textContent = "Please enter a valid email address.";
      valid = false;
    } else {
      emailError.textContent = "";
    }

    const password = document.getElementById("password").value;
    const passwordError = document.getElementById("passwordError");
    const passwordRegex = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/;

    if (!passwordRegex.test(password)) {
      passwordError.textContent = "Password must be at least 8 characters long and contain both letters and numbers.";
      valid = false;
    } else {
      passwordError.textContent = "";
    }

    if (valid) {
      // Redirect ke halaman sukses
      window.location.href = "registration-success.html";
    }
  });
</script>

</body>
</html>
